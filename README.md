.append("10. **Coverage Data Assignment:**\n")
.append("   10.1 **MD_CoverageOptionID**: Extract `bundleOptionID` where `coverageOptionType='MD'` from `referenceData.planData`. If not found, then explicitly set `MD_CoverageOptionID = \"NULL\"` (do not assign any value).\n")
.append("   10.2 **DN_CoverageOptionID**: Extract `bundleOptionID` where `coverageOptionType='DN'` from `referenceData.planData`. If not found, then explicitly set `DN_CoverageOptionID = \"NULL\"` (do not assign any value).\n")
.append("   10.3 **VS_CoverageOptionID**: Extract `bundleOptionID` where `coverageOptionType='VS'` from `referenceData.planData`. If not found, then explicitly set `VS_CoverageOptionID = \"NULL\"` (do not assign any value).\n\n")

.append("11. **Coverage Population ID Assignment:**\n")
.append("   11.1 **CRITICAL Rule 1**: If any CoverageOptionID (MD_CoverageOptionID, DN_CoverageOptionID, VS_CoverageOptionID) is \"NULL\", then its corresponding CoveragePopulationID MUST also be set to \"NULL\" with no exceptions.\n")
.append("   11.2 Read `referenceData.derivedFields`. This is an **array of objects**, where each object has a `derivedField` key.\n")
.append("   11.3 Search for an object where `derivedField = \"coveragePopulation\"`.\n")
.append("   11.4 **CRITICAL Rule 2**: If an object with `derivedField = \"coveragePopulation\"` is found:\n")
.append("      - Extract the `coTypes` array from that object.\n")
.append("      - If `coTypes` contains `MD`, then ALWAYS set `MD_CoveragePopulationID = \"NULL\"` with no exceptions.\n")
.append("      - If `coTypes` contains `DN`, then ALWAYS set `DN_CoveragePopulationID = \"NULL\"` with no exceptions.\n")
.append("      - If `coTypes` contains `VS`, then ALWAYS set `VS_CoveragePopulationID = \"NULL\"` with no exceptions.\n")
.append("   11.5 **Only if BOTH Rule 1 and Rule 2 do not apply for a particular coverage type**:\n")
.append("      - Assign a random value from `planData.coveragePopulations` where `coverageOptionType` matches (MD, DN, VS).\n")
.append("   11.6 Ensure all members of the same family share the same Coverage Population ID.\n")
.append("   11.7 Spouse and child cannot have any value that the subscriber does not.\n")
.append("   11.8 Double-check that Rules 1 and 2 were properly applied before proceeding.\n\n")

.append("12. **Bill Group Reference Assignment:**\n")
.append("   12.1 **CRITICAL Rule 1**: If any CoverageOptionID (MD_CoverageOptionID, DN_CoverageOptionID, VS_CoverageOptionID) is \"NULL\", then its corresponding BillGroupReferenceID MUST also be set to \"NULL\" with no exceptions.\n")
.append("   12.2 Read `referenceData.derivedFields`. This is an **array of objects**, where each object has a `derivedField` key.\n")
.append("   12.3 Search for an object where `derivedField = \"billGroup\"`.\n")
.append("   12.4 **CRITICAL Rule 2**: If an object with `derivedField = \"billGroup\"` is found:\n")
.append("      - Extract the `coTypes` array from that object.\n")
.append("      - If `coTypes` contains `MD`, then ALWAYS set `MD_BillGroupReferenceID = \"NULL\"` with no exceptions.\n")
.append("      - If `coTypes` contains `DN`, then ALWAYS set `DN_BillGroupReferenceID = \"NULL\"` with no exceptions.\n")
.append("      - If `coTypes` contains `VS`, then ALWAYS set `VS_BillGroupReferenceID = \"NULL\"` with no exceptions.\n")
.append("   12.5 **Only if BOTH Rule 1 and Rule 2 do not apply for a particular coverage type**:\n")
.append("      - Assign a random value from `planData.billGroups` where `coverageOptionType` matches (MD, DN, VS).\n")
.append("   12.6 Ensure all members of the same family share the same BillGroupReferenceID.\n")
.append("   12.7 Spouse and child cannot have any value that the subscriber does not.\n")
.append("   12.8 Double-check that Rules 1 and 2 were properly applied before proceeding.\n\n")

.append("13. **Final Validation:**\n")
.append("   13.1 Before returning any data, perform a final check on ALL rows to verify:\n")
.append("      - If any CoverageOptionID is \"NULL\", its corresponding CoveragePopulationID and BillGroupReferenceID must be \"NULL\".\n")
.append("      - If a coverage type is in coTypes for coveragePopulation, its CoveragePopulationID must be \"NULL\".\n")
.append("      - If a coverage type is in coTypes for billGroup, its BillGroupReferenceID must be \"NULL\".\n")
.append("   13.2 If any of these rules are violated, correct the data before proceeding.\n\n")
